@using Digikala.DTOs.FormDto.AdminPanel.ForCreateOrEdit
@using Digikala.DTOs.FormDto.AdminPanel.ForIndex
@model Digikala.DTOs.InputParams.AdminPanel.Home.CreateRolePermissionDto
@{
   ViewBag.title = "افزودن سطح دسترسی";
   Layout = "_PanelLayout";
   var cardHeaderDto = new CardHeaderFormDto()
   {
      ExistBtn = false,
      CardLabel = ViewBag.title
   };
   var cardFooter = new CardFooterCreateEditBtnForm()
   {
      ActionReturn = "Index",
      ActionSubmit = "CreateRolePermission"
   };
}
@if (TempData["IsSuccess"] != null)
{
   <script>
      swal({
         title: "موفق",
         text: "عملیات با موفقیت انجام شد",
         icon: "success",
         button: false,
         timer: 2000
      });
   </script>
}

<!--begin::زیر هدر-->
@section SubHeader
{
   <partial name="PanelLayoutShared/_PartialSubHeaderPanelLayout" />
}
<!--end::زیر هدر-->
<!--begin::Entry-->
<div class="d-flex flex-column-fluid">
   <!--begin::Container-->
   <div class="container">
      <!--begin::Notice-->
      @section Notice
      {
         <partial name="PanelLayoutShared/_PartialNoticePanelLayout" />
      }
      <!--end::Notice-->
      <div class="row">
         <div class="col-xxl-12">
            <!--begin::Card-->
            <div class="card card-custom gutter-b">
               <div class="card-header">
                  <partial name="PanelLayoutShared/SharedForm/_PartialCardHedaerForm" model="cardHeaderDto" />
               </div>
               <!--begin::نمونه-->
               <!--begin: جستجو Form-->
               <form class="form">
                  <div class="card-body">
                     <div class="form-group row">
                        <div class="col-lg-6">
                           <label asp-for="RoleId"></label>
                           <select required class="form-control" asp-for="RoleId" asp-items="@ViewData["Roles"] as SelectList"></select>
                           <span class="form-text text-muted" asp-validation-for="RoleId"></span>
                        </div>
                     </div>
                     <div class="form-group row">
                        <div class="col-lg-12">
                           <div id="kt_repeater_1">
                              <div data-repeater-list="">
                                 <div data-repeater-item class="form-group row align-items-center">
                                    <div class="col-md-5 col-sm-5 form-group">
                                       <label asp-for="PermissionId"></label>
                                       <select required class="form-control" name="PermissionId" asp-items="@ViewData["Permissions"] as SelectList"></select>
                                    </div>
                                    <div class="col-md-4 col-sm-4 form-group">
                                       <label asp-for="ExpireRolePermission"></label>
                                       <input name="ExpireRolePermission" readonly placeholder="تاریخ انقضا این دسترسی را مشخص نمائید" autocomplete="off" type="text" class="form-control ExpireRolePermission"/>
                                    </div>
                                    <div class="col-md-3 col-sm-3 form-group mt-5">
                                       <a href="javascript:;" data-repeater-delete="" class="btn btn-sm font-weight-bolder btn-light-danger">
                                          <i class="la la-trash-o"></i>حذف
                                       </a>
                                    </div>
                                 </div>
                              </div>
                              <div>
                                 <a href="javascript:;" onclick="callDate()" data-repeater-create="" class="btn btn-sm font-weight-bolder  btn-light-primary">
                                    <i class="la la-plus"></i>افزودن دسترسی جدید
                                 </a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="card-footer">
                     <partial name="PanelLayoutShared/SharedForm/_PartialCardFooterCreateEditBtnForm" model="cardFooter" />
                  </div>
               </form>
               <!--end::نمونه-->
            </div>
            <!--end::Card-->
         </div>
      </div>
   </div>
   <!--end::Container-->
</div>
<!--end::Entry-->
@section scripts
{
   <script>
      $(".ExpireRolePermission").persianDatepicker();
   </script>
}
